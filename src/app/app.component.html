<mat-sidenav-container *ngIf="showLayout" class="sidenav-container">

  <!-- Sidebar -->
  <mat-sidenav mode="side" opened class="sidenav" role="navigation" aria-label="Menu principal">

    <!-- Logo & utilisateur -->
    <div class="sidebar-header">
      <div class="sidebar-logo" aria-label="Logo Beautify Bio">
        <svg width="32" height="32" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
          <path d="M32 2C24 14 12 18 12 30c0 14 20 32 20 32s20-18 20-32c0-12-12-16-20-28z" fill="#2e7d32" />
        </svg>
        <span>Beautify Bio</span>
      </div>
      <div class="sidebar-user" tabindex="0" aria-label="Profil administrateur">
        <img src="assets/img/user-avatar.jpg" alt="Avatar admin" class="avatar" />
        <span class="username">Admin</span>
      </div>
    </div>

    <!-- Navigation -->
    <mat-nav-list>
      <a mat-list-item routerLink="/" routerLinkActive="active-link" [routerLinkActiveOptions]="{ exact: true }">
        <mat-icon>home</mat-icon> <span>Accueil</span>
      </a>
      <a mat-list-item routerLink="/ajouter-produit" routerLinkActive="active-link">
        <mat-icon>add_circle</mat-icon> <span>Ajouter Produit</span>
      </a>
      <a mat-list-item routerLink="/produits" routerLinkActive="active-link">
        <mat-icon>spa</mat-icon> <span>Produits</span>
      </a>
      <a mat-list-item routerLink="/admin" routerLinkActive="active-link">
        <mat-icon>dashboard_customize</mat-icon> <span>Dashboard</span>
      </a>
<a mat-list-item routerLink="/user" routerLinkActive="active-link">
  <mat-icon>account_circle</mat-icon> <span>Profil</span>
</a>

    </mat-nav-list>



  </mat-sidenav>

  <!-- Contenu principal -->
  <mat-sidenav-content>

    <!-- Barre de navigation -->
    <mat-toolbar color="transparent" class="top-navbar" role="banner" aria-label="Barre de navigation principale">

      <div class="logo-navbar" tabindex="0" aria-label="Logo Beautify Bio">
        <img src="assets/img/logo-small.jpg" alt="Logo Beautify Bio" class="avatar" />
        <span class="username">Beautify Bio</span>
      </div>

      <div class="navbar-center">
        <div class="search-wrapper">
          <input
            type="search"
            placeholder="Rechercher un produit..."
            aria-label="Recherche produit"
            class="search-input"
          />
          <button class="search-btn" aria-label="Lancer la recherche">
            <mat-icon>search</mat-icon>
          </button>
        </div>
      </div>

      <div class="navbar-right">
        <button routerLink="/login" class="btn-primary" aria-label="Se déconnecter">
          <mat-icon>logout</mat-icon>
          Déconnexion
        </button>
      </div>

    </mat-toolbar>

    <!-- Contenu des routes -->
    <main class="main-content" tabindex="0">
      <router-outlet></router-outlet>
    </main>

    <!-- Pied de page -->
    <footer class="app-footer" role="contentinfo">
      <div class="footer-content" aria-label="Pied de page Beautify Bio">
        <small>© 2025 Beautify Bio. Tous droits réservés.</small>
      </div>
    </footer>

  </mat-sidenav-content>
</mat-sidenav-container>

<!-- Affichage sans layout (login, etc.) -->
<div *ngIf="!showLayout">
  <router-outlet></router-outlet>
</div>
